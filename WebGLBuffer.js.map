{"version":3,"file":"WebGLBuffer.js","sourceRoot":"","sources":["WebGLBuffer.ts"],"names":[],"mappings":"AAQA,MAAM,OAAO,MAAM;IAKf,YAAY,EAAyB,EAAE,IAAkB;QACrD,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;QACd,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;QAC1C,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC5D,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IAC3E,CAAC;IAED,iBAAiB,CAAE,SAAiB,EAAE,WAA8B;QAChE,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC5D,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC,SAAS,EAClC,WAAW,CAAC,IAAI,EAChB,WAAW,CAAC,IAAI,EAChB,WAAW,CAAC,UAAU,EACtB,WAAW,CAAC,MAAM,EAClB,WAAW,CAAC,MAAM,CACrB,CAAC;QACF,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC;IAChD,CAAC;IAED,SAAS;QACL,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;CACJ","sourcesContent":["export type BufferDescription = {\r\n    size: number;\r\n    type: number;\r\n    normalized: boolean;\r\n    stride: number;\r\n    offset: number;\r\n}\r\n\r\nexport class Buffer {\r\n    private readonly _gl: WebGLRenderingContext;\r\n    private readonly _length: number;\r\n    private readonly _gpuBuffer: WebGLBuffer | null;\r\n\r\n    constructor(gl: WebGLRenderingContext, data: Float32Array) {\r\n        this._gl = gl;\r\n        this._length = data.length;\r\n        this._gpuBuffer = this._gl.createBuffer();\r\n        this._gl.bindBuffer(this._gl.ARRAY_BUFFER, this._gpuBuffer);\r\n        this._gl.bufferData(this._gl.ARRAY_BUFFER, data, this._gl.STATIC_DRAW);\r\n    }\r\n\r\n    bindWithAttribute (attribute: GLenum, description: BufferDescription) {\r\n        this._gl.bindBuffer(this._gl.ARRAY_BUFFER, this._gpuBuffer);\r\n        this._gl.vertexAttribPointer(attribute,\r\n            description.size,\r\n            description.type,\r\n            description.normalized,\r\n            description.stride,\r\n            description.offset\r\n        );\r\n        this._gl.enableVertexAttribArray(attribute);\r\n    }\r\n\r\n    getLength () {\r\n        return this._length;\r\n    }\r\n}\r\n"]}