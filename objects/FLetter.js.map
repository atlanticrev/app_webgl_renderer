{"version":3,"file":"FLetter.js","sourceRoot":"","sources":["FLetter.ts"],"names":[],"mappings":"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","sourcesContent":["import SceneObject from \"./SceneObject.js\";\r\nimport {Mat4} from \"../Math.js\";\r\n\r\nclass FLetter extends SceneObject {\r\n    constructor(gl: WebGLRenderingContext, options: any) {\r\n        super(gl, options);\r\n    }\r\n\r\n    // Every render\r\n    setBuffers () {\r\n        this._buffers['position_buffer'].location.bindWithAttribute(\r\n            this._attributes['a_position'].location,\r\n            {\r\n                size: 3,\r\n                type: this._gl.FLOAT,\r\n                normalized: false,\r\n                stride: 0,\r\n                offset: 0\r\n            }\r\n        );\r\n        this._buffers['color_buffer'].location.bindWithAttribute(\r\n            this._attributes['a_color'].location,\r\n            {\r\n                size: 3,\r\n                type: this._gl.UNSIGNED_BYTE,\r\n                normalized: true,\r\n                stride: 0,\r\n                offset: 0\r\n            }\r\n        );\r\n    }\r\n\r\n    // Every render\r\n    calcSRTMatrix () {\r\n        return Mat4.getIdentMat()\r\n            // Change transform origin\r\n            .multiplyMatrix(\r\n                Mat4.getTransMat(\r\n                    -50,\r\n                    -75,\r\n                    -15\r\n                )\r\n            )\r\n            .multiplyMatrix(\r\n                Mat4.getScaleMat(\r\n                    this.properties.scale[0],\r\n                    this.properties.scale[1],\r\n                    this.properties.scale[2]\r\n                )\r\n            )\r\n            .multiplyMatrix(\r\n                Mat4.getRotMatZ(this.properties.rotation[2])\r\n            )\r\n            .multiplyMatrix(\r\n                Mat4.getRotMatY(this.properties.rotation[1])\r\n            )\r\n            .multiplyMatrix(\r\n                Mat4.getRotMatX(this.properties.rotation[0])\r\n            )\r\n            .multiplyMatrix(\r\n                Mat4.getTransMat(\r\n                    this.properties.translation[0],\r\n                    this.properties.translation[1],\r\n                    this.properties.translation[2]\r\n                )\r\n            )\r\n            // Clipping\r\n            // .multiplyMatrix(\r\n            //     Mat4.getOrthoMat(0, 0, this._gl.canvas.width, this._gl.canvas.height, 400, -400)\r\n            // )\r\n            // .multiplyMatrix(\r\n            //     Mat4.getWFactorMat(0.5)\r\n            // )\r\n            .multiplyMatrix(\r\n                Mat4.getPerspMat(Math.PI / 4, this._gl.canvas.width / this._gl.canvas.height, 1, 2000)\r\n            )\r\n            .toTypedArray();\r\n    }\r\n\r\n    calcAnimation () {\r\n        const step = 0.25;\r\n        this.properties.rotation[0] += step / 2;\r\n        this.properties.rotation[1] += step;\r\n        this.properties.rotation[2] += step / 4;\r\n    }\r\n}\r\n\r\nexport default FLetter;\r\n"]}