{"version":3,"file":"ControlPanel.js","sourceRoot":"","sources":["ControlPanel.ts"],"names":[],"mappings":"AAEA,MAAM,YAAa,SAAQ,WAAW;IAGlC,YAAY,QAAuB;QAC/B,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,IAAI,aAAa;QACb,OAAO,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;IACvC,CAAC;IAED,iBAAiB;QACb,gFAAgF;QAEhF,MAAM,iBAAiB,GAAG,IAAI,CAAC,aAAa,CAAC,qCAAqC,CAAgB,CAAC;QACnG,MAAM,sBAAsB,GAAG,iBAAiB,CAAC,aAAa,CAAC,6BAA6B,CAAqB,CAAC;QAClH,MAAM,wBAAwB,GAAG,iBAAiB,CAAC,aAAa,CAAC,6BAA6B,CAAgB,CAAC;QAC/G,sBAAsB,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE;YACnD,MAAM,MAAM,GAAG,CAAC,CAAC,MAA0B,CAAC;YAC5C,wBAAwB,CAAC,WAAW,GAAG,GAAG,MAAM,CAAC,KAAK,IAAI,CAAC;YAC3D,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,uBAAuB,EAAE,EAAC,MAAM,EAAE,EAAC,CAAC,EAAE,MAAM,CAAC,KAAK,EAAC,EAAC,CAAC,CAAC,CAAC;QAC9F,CAAC,CAAC,CAAC;QAEH,MAAM,iBAAiB,GAAG,IAAI,CAAC,aAAa,CAAC,qCAAqC,CAAgB,CAAC;QACnG,MAAM,sBAAsB,GAAG,iBAAiB,CAAC,aAAa,CAAC,6BAA6B,CAAqB,CAAC;QAClH,MAAM,wBAAwB,GAAG,iBAAiB,CAAC,aAAa,CAAC,6BAA6B,CAAgB,CAAC;QAC/G,sBAAsB,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE;YACnD,MAAM,MAAM,GAAG,CAAC,CAAC,MAA0B,CAAC;YAC5C,wBAAwB,CAAC,WAAW,GAAG,GAAG,MAAM,CAAC,KAAK,IAAI,CAAC;YAC3D,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,uBAAuB,EAAE,EAAC,MAAM,EAAE,EAAC,CAAC,EAAE,MAAM,CAAC,KAAK,EAAC,EAAC,CAAC,CAAC,CAAC;QAC9F,CAAC,CAAC,CAAC;QAEH,MAAM,iBAAiB,GAAG,IAAI,CAAC,aAAa,CAAC,qCAAqC,CAAgB,CAAC;QACnG,MAAM,sBAAsB,GAAG,iBAAiB,CAAC,aAAa,CAAC,6BAA6B,CAAqB,CAAC;QAClH,MAAM,wBAAwB,GAAG,iBAAiB,CAAC,aAAa,CAAC,6BAA6B,CAAgB,CAAC;QAC/G,sBAAsB,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE;YACnD,MAAM,MAAM,GAAG,CAAC,CAAC,MAA0B,CAAC;YAC5C,wBAAwB,CAAC,WAAW,GAAG,GAAG,MAAM,CAAC,KAAK,IAAI,CAAC;YAC3D,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,uBAAuB,EAAE,EAAC,MAAM,EAAE,EAAC,CAAC,EAAE,MAAM,CAAC,KAAK,EAAC,EAAC,CAAC,CAAC,CAAC;QAC9F,CAAC,CAAC,CAAC;QAEH,MAAM,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,kCAAkC,CAAgB,CAAC;QAC7F,MAAM,mBAAmB,GAAG,cAAc,CAAC,aAAa,CAAC,6BAA6B,CAAqB,CAAC;QAC5G,MAAM,qBAAqB,GAAG,cAAc,CAAC,aAAa,CAAC,6BAA6B,CAAgB,CAAC;QACzG,mBAAmB,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE;YAChD,MAAM,MAAM,GAAG,CAAC,CAAC,MAA0B,CAAC;YAC5C,qBAAqB,CAAC,WAAW,GAAG,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC;YACvD,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,uBAAuB,EAAE,EAAC,MAAM,EAAE,EAAC,MAAM,EAAE,MAAM,CAAC,KAAK,EAAC,EAAC,CAAC,CAAC,CAAC;QACnG,CAAC,CAAC,CAAC;QAEH,MAAM,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,kCAAkC,CAAgB,CAAC;QAC7F,MAAM,mBAAmB,GAAG,cAAc,CAAC,aAAa,CAAC,6BAA6B,CAAqB,CAAC;QAC5G,MAAM,qBAAqB,GAAG,cAAc,CAAC,aAAa,CAAC,6BAA6B,CAAgB,CAAC;QACzG,mBAAmB,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE;YAChD,MAAM,MAAM,GAAG,CAAC,CAAC,MAA0B,CAAC;YAC5C,qBAAqB,CAAC,WAAW,GAAG,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC;YACvD,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,uBAAuB,EAAE,EAAC,MAAM,EAAE,EAAC,MAAM,EAAE,MAAM,CAAC,KAAK,EAAC,EAAC,CAAC,CAAC,CAAC;QACnG,CAAC,CAAC,CAAC;QAEH,MAAM,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,kCAAkC,CAAgB,CAAC;QAC7F,MAAM,mBAAmB,GAAG,cAAc,CAAC,aAAa,CAAC,6BAA6B,CAAqB,CAAC;QAC5G,MAAM,qBAAqB,GAAG,cAAc,CAAC,aAAa,CAAC,6BAA6B,CAAgB,CAAC;QACzG,mBAAmB,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE;YAChD,MAAM,MAAM,GAAG,CAAC,CAAC,MAA0B,CAAC;YAC5C,qBAAqB,CAAC,WAAW,GAAG,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC;YACvD,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,uBAAuB,EAAE,EAAC,MAAM,EAAE,EAAC,MAAM,EAAE,MAAM,CAAC,KAAK,EAAC,EAAC,CAAC,CAAC,CAAC;QACnG,CAAC,CAAC,CAAC;QAEH,MAAM,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,6BAA6B,CAAgB,CAAC;QACpF,MAAM,eAAe,GAAG,UAAU,CAAC,aAAa,CAAC,6BAA6B,CAAqB,CAAC;QACpG,MAAM,iBAAiB,GAAG,UAAU,CAAC,aAAa,CAAC,6BAA6B,CAAgB,CAAC;QACjG,eAAe,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE;YAC5C,MAAM,MAAM,GAAG,CAAC,CAAC,MAA0B,CAAC;YAC5C,iBAAiB,CAAC,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC;YAC7C,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,oBAAoB,EAAE,EAAC,MAAM,EAAE,EAAC,MAAM,EAAE,MAAM,CAAC,KAAK,EAAC,EAAC,CAAC,CAAC,CAAC;QAChG,CAAC,CAAC,CAAC;IACP,CAAC;IAED,WAAW;QACP,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;IAC9D,CAAC;IAED,WAAW;QACP,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QACpD,QAAQ,CAAC,SAAS,GAAG;;sCAES,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI;;;2GAGkC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC;+DACxF,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC;;;;2GAIA,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC;+DACxF,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC;;;;2GAIA,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC;+DACxF,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC;;;;sGAIL,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;+DAChF,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;;;;sGAIF,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;+DAChF,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;;;;sGAIF,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;+DAChF,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;;;;kHAIU,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;+DACzF,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;;;SAG5F,CAAC;QACF,OAAO,QAAQ,CAAC;IACpB,CAAC;IAED,cAAc,CAAE,QAA6B;QACzC,OAAO,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACvD,CAAC;IAED,SAAS;QACL,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC/C,MAAM,CAAC,WAAW,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAiCpB,CAAC;QACF,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;CACJ;AAED,cAAc,CAAC,MAAM,CAAC,iBAAiB,EAAE,YAAY,CAAC,CAAC;AAEvD,eAAe,YAAY,CAAC","sourcesContent":["import WebGLRenderer from \"../WebGLRenderer\";\r\n\r\nclass ControlPanel extends HTMLElement {\r\n    renderer: WebGLRenderer;\r\n\r\n    constructor(renderer: WebGLRenderer) {\r\n        super();\r\n        this.renderer = renderer;\r\n        this.setTemplate();\r\n        this.setStyles();\r\n    }\r\n\r\n    get sceneActiveEl () {\r\n        return this.renderer.activeElement;\r\n    }\r\n\r\n    connectedCallback () {\r\n        // this.appendChild(new Range(this.sceneActiveEl, {min: 0, max: 200, step: 1}));\r\n\r\n        const rangeTranslationX = this.querySelector('.control-panel__range-translation-x') as HTMLElement;\r\n        const rangeTranslationXInput = rangeTranslationX.querySelector('.control-panel__range-input') as HTMLInputElement;\r\n        const rangeTranslationXDisplay = rangeTranslationX.querySelector('.control-panel__range-value') as HTMLElement;\r\n        rangeTranslationXInput.addEventListener('input', (e) => {\r\n            const target = e.target as HTMLInputElement;\r\n            rangeTranslationXDisplay.textContent = `${target.value}px`;\r\n            this.dispatchEvent(new CustomEvent('EVENT_POSITION_CHANGE', {detail: {x: target.value}}));\r\n        });\r\n\r\n        const rangeTranslationY = this.querySelector('.control-panel__range-translation-y') as HTMLElement;\r\n        const rangeTranslationYInput = rangeTranslationY.querySelector('.control-panel__range-input') as HTMLInputElement;\r\n        const rangeTranslationYDisplay = rangeTranslationY.querySelector('.control-panel__range-value') as HTMLElement;\r\n        rangeTranslationYInput.addEventListener('input', (e) => {\r\n            const target = e.target as HTMLInputElement;\r\n            rangeTranslationYDisplay.textContent = `${target.value}px`;\r\n            this.dispatchEvent(new CustomEvent('EVENT_POSITION_CHANGE', {detail: {y: target.value}}));\r\n        });\r\n\r\n        const rangeTranslationZ = this.querySelector('.control-panel__range-translation-z') as HTMLElement;\r\n        const rangeTranslationZInput = rangeTranslationZ.querySelector('.control-panel__range-input') as HTMLInputElement;\r\n        const rangeTranslationZDisplay = rangeTranslationZ.querySelector('.control-panel__range-value') as HTMLElement;\r\n        rangeTranslationZInput.addEventListener('input', (e) => {\r\n            const target = e.target as HTMLInputElement;\r\n            rangeTranslationZDisplay.textContent = `${target.value}px`;\r\n            this.dispatchEvent(new CustomEvent('EVENT_POSITION_CHANGE', {detail: {z: target.value}}));\r\n        });\r\n\r\n        const rangeRotationX = this.querySelector('.control-panel__range-rotation-x') as HTMLElement;\r\n        const rangeRotationXInput = rangeRotationX.querySelector('.control-panel__range-input') as HTMLInputElement;\r\n        const rangeRotationXDisplay = rangeRotationX.querySelector('.control-panel__range-value') as HTMLElement;\r\n        rangeRotationXInput.addEventListener('input', (e) => {\r\n            const target = e.target as HTMLInputElement;\r\n            rangeRotationXDisplay.textContent = `${target.value}°`;\r\n            this.dispatchEvent(new CustomEvent('EVENT_ROTATION_CHANGE', {detail: {angleX: target.value}}));\r\n        });\r\n\r\n        const rangeRotationY = this.querySelector('.control-panel__range-rotation-y') as HTMLElement;\r\n        const rangeRotationYInput = rangeRotationY.querySelector('.control-panel__range-input') as HTMLInputElement;\r\n        const rangeRotationYDisplay = rangeRotationY.querySelector('.control-panel__range-value') as HTMLElement;\r\n        rangeRotationYInput.addEventListener('input', (e) => {\r\n            const target = e.target as HTMLInputElement;\r\n            rangeRotationYDisplay.textContent = `${target.value}°`;\r\n            this.dispatchEvent(new CustomEvent('EVENT_ROTATION_CHANGE', {detail: {angleY: target.value}}));\r\n        });\r\n\r\n        const rangeRotationZ = this.querySelector('.control-panel__range-rotation-z') as HTMLElement;\r\n        const rangeRotationZInput = rangeRotationZ.querySelector('.control-panel__range-input') as HTMLInputElement;\r\n        const rangeRotationZDisplay = rangeRotationZ.querySelector('.control-panel__range-value') as HTMLElement;\r\n        rangeRotationZInput.addEventListener('input', (e) => {\r\n            const target = e.target as HTMLInputElement;\r\n            rangeRotationZDisplay.textContent = `${target.value}°`;\r\n            this.dispatchEvent(new CustomEvent('EVENT_ROTATION_CHANGE', {detail: {angleZ: target.value}}));\r\n        });\r\n\r\n        const rangeScale = this.querySelector('.control-panel__range-scale') as HTMLElement;\r\n        const rangeScaleInput = rangeScale.querySelector('.control-panel__range-input') as HTMLInputElement;\r\n        const rangeScaleDisplay = rangeScale.querySelector('.control-panel__range-value') as HTMLElement;\r\n        rangeScaleInput.addEventListener('input', (e) => {\r\n            const target = e.target as HTMLInputElement;\r\n            rangeScaleDisplay.textContent = target.value;\r\n            this.dispatchEvent(new CustomEvent('EVENT_SCALE_CHANGE', {detail: {scalar: target.value}}));\r\n        });\r\n    }\r\n\r\n    setTemplate () {\r\n        this.appendChild(this.importTemplate(this.getTemplate()));\r\n    }\r\n\r\n    getTemplate () {\r\n        const template = document.createElement('template');\r\n        template.innerHTML = `\r\n            <div class=\"control-panel\">\r\n                <h3>Active element: ${this.sceneActiveEl.constructor.name}</h3>\r\n                <div class=\"control-panel__range control-panel__range-translation-x\">\r\n                    <span class=\"control-panel__range-name\">position <b>x</b></span>\r\n                    <input class=\"control-panel__range-input\" type=\"range\" min=\"-2000\" max=\"2000\" value=\"${this.sceneActiveEl.properties.translation[0]}\"/>\r\n                    <span class=\"control-panel__range-value\">${this.sceneActiveEl.properties.translation[0]}px</span>\r\n                </div>\r\n                <div class=\"control-panel__range control-panel__range-translation-y\">\r\n                    <span class=\"control-panel__range-name\">position <b>y</b></span>\r\n                    <input class=\"control-panel__range-input\" type=\"range\" min=\"-2000\" max=\"2000\" value=\"${this.sceneActiveEl.properties.translation[1]}\"/>\r\n                    <span class=\"control-panel__range-value\">${this.sceneActiveEl.properties.translation[1]}px</span>\r\n                </div>\r\n                <div class=\"control-panel__range control-panel__range-translation-z\">\r\n                    <span class=\"control-panel__range-name\">position <b>z</b></span>\r\n                    <input class=\"control-panel__range-input\" type=\"range\" min=\"-2000\" max=\"2000\" value=\"${this.sceneActiveEl.properties.translation[2]}\"/>\r\n                    <span class=\"control-panel__range-value\">${this.sceneActiveEl.properties.translation[2]}px</span>\r\n                </div>\r\n                <div class=\"control-panel__range control-panel__range-rotation-x disabled\">\r\n                    <span class=\"control-panel__range-name\">rotation <b>x</b></span>\r\n                    <input class=\"control-panel__range-input\" type=\"range\" min=\"0\" max=\"360\" value=\"${this.sceneActiveEl.properties.rotation[0]}\"/>\r\n                    <span class=\"control-panel__range-value\">${this.sceneActiveEl.properties.rotation[0]}°</span>\r\n                </div>\r\n                <div class=\"control-panel__range control-panel__range-rotation-y disabled\">\r\n                    <span class=\"control-panel__range-name\">rotation <b>y</b></span>\r\n                    <input class=\"control-panel__range-input\" type=\"range\" min=\"0\" max=\"360\" value=\"${this.sceneActiveEl.properties.rotation[1]}\"/>\r\n                    <span class=\"control-panel__range-value\">${this.sceneActiveEl.properties.rotation[1]}°</span>\r\n                </div>\r\n                <div class=\"control-panel__range control-panel__range-rotation-z disabled\">\r\n                    <span class=\"control-panel__range-name\">rotation <b>z</b></span>\r\n                    <input class=\"control-panel__range-input\" type=\"range\" min=\"0\" max=\"360\" value=\"${this.sceneActiveEl.properties.rotation[2]}\"/>\r\n                    <span class=\"control-panel__range-value\">${this.sceneActiveEl.properties.rotation[2]}°</span>\r\n                </div>\r\n                <div class=\"control-panel__range control-panel__range-scale\">\r\n                    <span class=\"control-panel__range-name\">scale <b>xyz</b></span>\r\n                    <input class=\"control-panel__range-input\" type=\"range\" min=\"0.1\" max=\"10\" step=\"0.1\" value=\"${this.sceneActiveEl.properties.scale[0]}\"/>\r\n                    <span class=\"control-panel__range-value\">${this.sceneActiveEl.properties.scale[0]}</span>\r\n                </div>\r\n            </div>\r\n        `;\r\n        return template;\r\n    }\r\n\r\n    importTemplate (template: HTMLTemplateElement) {\r\n        return document.importNode(template.content, true);\r\n    }\r\n\r\n    setStyles () {\r\n        const styles = document.createElement('style');\r\n        styles.textContent = `\r\n            x-control-panel {\r\n                display: block;\r\n                position: absolute;\r\n                top: 10px;\r\n                right: 10px;\r\n                font-family: monospace;\r\n                font-size: 16px;\r\n            }\r\n            \r\n            x-control-panel .control-panel {\r\n                display: flex;\r\n                flex-direction: column;\r\n                justify-content: center;\r\n                align-items: center;\r\n                padding: 20px;\r\n            }\r\n            \r\n            x-control-panel .control-panel__range {\r\n                display: flex;\r\n                flex-direction: column;\r\n                justify-content: flex-start;\r\n                align-items: flex-end;\r\n                width: 100%;\r\n            }\r\n            \r\n            x-control-panel .control-panel__range:not(:first-child) {\r\n                margin-top: 40px;\r\n            }\r\n            \r\n            x-control-panel .control-panel__range > *:not(:first-child) {\r\n                margin-top: 5px;\r\n            }\r\n        `;\r\n        document.head.appendChild(styles);\r\n    }\r\n}\r\n\r\ncustomElements.define('x-control-panel', ControlPanel);\r\n\r\nexport default ControlPanel;\r\n"]}